# Configuration de l'application <%= appName %>
spring.application.name=<%= appName %>

# Configuration du serveur
server.port=8080
<% if (additionalFeatures && additionalFeatures.includes('docker')) { %>
# Utiliser 0.0.0.0 pour Docker
server.address=0.0.0.0
<% } %>
server.servlet.context-path=/

# Configuration de la base de données
<% if (database === 'H2') { %>
# Configuration H2 Database
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
<% } else if (database === 'MySQL') { %>
# Configuration MySQL
spring.datasource.url=jdbc:mysql://localhost:3306/<%= appName.toLowerCase().replace(/-/g, '_') %>?useSSL=false&serverTimezone=UTC
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver
spring.datasource.username=root
spring.datasource.password=password
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
<% } else if (database === 'PostgreSQL') { %>
# Configuration PostgreSQL
spring.datasource.url=jdbc:postgresql://localhost:5432/<%= appName.toLowerCase().replace(/-/g, '_') %>
spring.datasource.driverClassName=org.postgresql.Driver
spring.datasource.username=postgres
spring.datasource.password=postgres
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
<% } else if (database === 'MongoDB') { %>
# Configuration MongoDB
spring.data.mongodb.uri=mongodb://localhost:27017/<%= appName.toLowerCase().replace(/-/g, '_') %>
<% } %>

<% if (database !== 'MongoDB') { %>
# Configuration JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
<% } %>

# Configuration Logging
logging.level.root=INFO
logging.level.<%= packageName %>=DEBUG

<% if (additionalFeatures && additionalFeatures.includes('openapi')) { %>
# Configuration Swagger/OpenAPI
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
<% } %>

<% if (environment === 'dev') { %>
# Configuration spécifique à l'environnement de développement
spring.devtools.restart.enabled=true
<% } %>

<% if (environment === 'prod') { %>
# Configuration spécifique à l'environnement de production
spring.devtools.restart.enabled=false
server.error.include-stacktrace=never
<% } %>

<% if (additionalFeatures && additionalFeatures.includes('elasticsearch')) { %>
# Configuration Elasticsearch
spring.elasticsearch.uris=http://localhost:9200
spring.elasticsearch.connection-timeout=1s
spring.elasticsearch.socket-timeout=1m
spring.elasticsearch.username=elastic
# À remplacer par un mot de passe sécurisé en production
spring.elasticsearch.password=changeme
# Activer le mode cluster si nécessaire
#spring.elasticsearch.cluster-name=my-cluster
<% } %>
