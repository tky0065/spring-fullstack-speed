package <%= packageName %>.dto;

import java.io.Serializable;
import java.time.Instant;
import java.util.HashMap;
import java.util.Map;

import javax.validation.constraints.NotNull;
import javax.validation.constraints.Size;

/**
 * DTO pour repr√©senter une notification push.
 */
public class PushNotificationDTO implements Serializable {

    private static final long serialVersionUID = 1L;

    @NotNull
    @Size(min = 1, max = 255)
    private String title;

    @NotNull
    @Size(min = 1, max = 1024)
    private String body;

    private String imageUrl;

    private String clickAction;

    private String topic;

    private String token;

    private String[] tokens;

    private Map<String, String> data = new HashMap<>();

    private Instant timestamp = Instant.now();

    private String priority = "high";

    private boolean silent = false;

    private int timeToLive = 86400; // 24 heures en secondes

    // Constructeurs
    public PushNotificationDTO() {
    }

    public PushNotificationDTO(String title, String body) {
        this.title = title;
        this.body = body;
    }

    public PushNotificationDTO(String title, String body, String token) {
        this.title = title;
        this.body = body;
        this.token = token;
    }

    // Getters et Setters
    public String getTitle() {
        return title;
    }

    public void setTitle(String title) {
        this.title = title;
    }

    public String getBody() {
        return body;
    }

    public void setBody(String body) {
        this.body = body;
    }

    public String getImageUrl() {
        return imageUrl;
    }

    public void setImageUrl(String imageUrl) {
        this.imageUrl = imageUrl;
    }

    public String getClickAction() {
        return clickAction;
    }

    public void setClickAction(String clickAction) {
        this.clickAction = clickAction;
    }

    public String getTopic() {
        return topic;
    }

    public void setTopic(String topic) {
        this.topic = topic;
    }

    public String getToken() {
        return token;
    }

    public void setToken(String token) {
        this.token = token;
    }

    public String[] getTokens() {
        return tokens;
    }

    public void setTokens(String[] tokens) {
        this.tokens = tokens;
    }

    public Map<String, String> getData() {
        return data;
    }

    public void setData(Map<String, String> data) {
        this.data = data;
    }

    public void addData(String key, String value) {
        this.data.put(key, value);
    }

    public Instant getTimestamp() {
        return timestamp;
    }

    public void setTimestamp(Instant timestamp) {
        this.timestamp = timestamp;
    }

    public String getPriority() {
        return priority;
    }

    public void setPriority(String priority) {
        this.priority = priority;
    }

    public boolean isSilent() {
        return silent;
    }

    public void setSilent(boolean silent) {
        this.silent = silent;
    }

    public int getTimeToLive() {
        return timeToLive;
    }

    public void setTimeToLive(int timeToLive) {
        this.timeToLive = timeToLive;
    }

    @Override
    public String toString() {
        return "PushNotificationDTO{" +
            "title='" + title + '\'' +
            ", body='" + body + '\'' +
            ", token='" + token + '\'' +
            ", topic='" + topic + '\'' +
            ", timestamp=" + timestamp +
            '}';
    }
}
